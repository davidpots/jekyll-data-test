---
layout: default
---

<style>
  .tag-list ul { margin: 0 0 8px 0; overflow: hidden; width: auto; }
  .tag-list ul li { list-style: none; display: inline-block; float: left; margin: 0 4px 4px 0; }
  .tag-list ul li a { padding: 5px 8px; font-size: 12px; color: #888; background: #ddd; display: block; }
  .tag-list ul li.active a { background: blue; color: #fff; }
</style>

<div class="tag-list" style="margin-bottom: 2rem; border-bottom: 1px solid #eee;">
  <h3 style="font-weight: bold; margin: 0 0 8px 0;">Filter:</h3>
  <ul>
    <li class="active"><a class="show-all" href="#">show all</a></li>
  </ul>
</div>

<ul id="container" style="margin-left: 0; position: relative;">
{% for podcast in site.podcasts %}
  <li class="item {{ podcast.tags | join: ' ' }}" data-tags="" style="list-style: none; padding-left: 96px; margin: 0 0 2rem 0;">
    <img style="position: absolute; left: 0; width: 80px;" width="80" src="{{ podcast.url-thumbnail }}" />
    <h2 style="margin: 0 0 4px 0; font-weight: bold;">{{ podcast.title }}</h2>
    <p style="margin: 0 0 8px 0;">{{ podcast.description }}</p>
    {% if podcast.tags %}
    <ul style="margin-left: 0; margin-bottom: 8px; overflow: hidden;">
      {% for tag in podcast.tags %}
        <li class="item__tag" style="list-style: none; float: left; font-size: 12px; border: 1px solid #ddd; color: #888; margin: 0 2px 0 0; padding: 5px 8px; display: block;">{{ tag }}</a></li>
      {% endfor %}
    </ul>
    {% endif %}
    <p><a href="{{ podcast.url-itunes }}">iTunes</a> | <a href="{{ podcast.url-rss }}">RSS</a> | <a href="{{ podcast.url-web }}">Website</a></p>        
  </li>
{% endfor %}
</ul>

<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
<script src="/podcasts/javascript/isotope.js"></script>
<script type="text/javascript">

  $(document).ready(function(){

    var tagList = [];
    $.each( $('.item__tag'), function(i,obj) { 
      nextTag = obj.innerText;
      if ($.inArray(nextTag,tagList) == -1) {
        tagList.push( nextTag );
      }
    } );
    tagList = tagList.sort();
    
    $.each( $(tagList), function(i,obj) { 
      $('.tag-list ul').append('<li><a class="item__tag" data-filter="' + obj + '" href="#">' + obj + '</a></li>');
    } );
  
    var $container = $('#container');
    // init
    $container.isotope({
      // options
      itemSelector: '.item',
      layoutMode: 'vertical'
    });
    
    $('.tag-list ul .item__tag').click(function(){

      var filterBy = '.' + $(this).data('filter');
      $container.isotope({ filter: filterBy });

      $('.tag-list ul li.active').removeClass('active');
      
      $(this).parent().addClass('active');

      return false;
    });

    $('.show-all').click(function(){
      $container.isotope({ filter: '*' });
      $('.tag-list ul li.active').removeClass('active');
      $(this).parent().addClass('active');
    });
    

  });
  
</script>